# ğŸŒ UNIFIED DOMAIN DEPLOYMENT - VOTINGONLINE2025.SITE

## ğŸ¯ **KIáº¾N TRÃšC TÃŠN MIá»€N THá»NG NHáº¤T**

### **ğŸŒ Domain Structure:**
```
votingonline2025.site (Root Domain)
â”œâ”€â”€ https://votingonline2025.site          â†’ User Interface
â”œâ”€â”€ https://admin.votingonline2025.site    â†’ Admin Panel  
â””â”€â”€ https://api.votingonline2025.site      â†’ Backend API
```

---

## âœ… **ÄÃƒ Cáº¤U HÃŒNH THá»NG NHáº¤T:**

### **1ï¸âƒ£ Frontend Configuration:**
- âœ… **Admin Panel**: Point to `admin.votingonline2025.site`
- âœ… **User Interface**: Point to `votingonline2025.site`
- âœ… **API Endpoints**: Both point to `api.votingonline2025.site`

### **2ï¸âƒ£ Backend Configuration:**
- âœ… **CORS Origins**: Only `votingonline2025.site` domains
- âœ… **JWT Secrets**: Unified for the domain
- âœ… **Database**: Single PostgreSQL instance

### **3ï¸âƒ£ Security Benefits:**
- âœ… **No CORS Issues**: Same root domain
- âœ… **Cookie Sharing**: Subdomain cookies work
- âœ… **SSL Wildcard**: `*.votingonline2025.site`
- âœ… **CSP Compliance**: Same-origin policies

---

## ğŸš€ **VPS DEPLOYMENT COMMANDS:**

### **Step 1: Domain Setup**
```bash
# Add DNS Records (A Records):
votingonline2025.site           â†’ VPS_IP
admin.votingonline2025.site     â†’ VPS_IP
api.votingonline2025.site       â†’ VPS_IP
www.votingonline2025.site       â†’ VPS_IP
```

### **Step 2: Deploy to VPS**
```bash
# Upload and run deployment script
scp vps-deploy-complete.sh root@YOUR_VPS_IP:/root/
ssh root@YOUR_VPS_IP
chmod +x /root/vps-deploy-complete.sh
bash /root/vps-deploy-complete.sh
```

### **Step 3: SSL Certificate**
```bash
# Auto-generated by deployment script
sudo certbot --nginx \
  -d votingonline2025.site \
  -d www.votingonline2025.site \
  -d admin.votingonline2025.site \
  -d api.votingonline2025.site
```

---

## ğŸ“Š **MIGRATION PLAN:**

### **ğŸ”„ Current State â†’ Target State:**

| Component | Current (Netlify) | Target (VPS) |
|-----------|------------------|--------------|
| **Admin** | `admin-bvote-2025.netlify.app` | `admin.votingonline2025.site` |
| **User** | `user-bvote-2025.netlify.app` | `votingonline2025.site` |
| **API** | `localhost:3000` | `api.votingonline2025.site` |

### **ğŸ¯ Migration Benefits:**
- âœ… **Unified Domain**: No cross-origin issues
- âœ… **Professional URLs**: Clean, branded domains
- âœ… **Better SEO**: Single domain authority
- âœ… **Security**: Same-origin policy compliance
- âœ… **Performance**: No CORS preflight requests

---

## ğŸ› ï¸ **TEMPORARY TESTING:**

### **For Testing Before VPS:**
```bash
# Update local hosts file for testing:
# C:\Windows\System32\drivers\etc\hosts (Windows)
# /etc/hosts (Linux/Mac)

127.0.0.1 votingonline2025.site
127.0.0.1 admin.votingonline2025.site
127.0.0.1 api.votingonline2025.site
```

### **Local Development URLs:**
- User: `http://votingonline2025.site:5174`
- Admin: `http://admin.votingonline2025.site:5173`
- API: `http://api.votingonline2025.site:3000`

---

## ğŸ”§ **NGINX CONFIGURATION:**

The deployment script will automatically create:

```nginx
# User Interface - Main Domain
server {
    listen 443 ssl http2;
    server_name votingonline2025.site www.votingonline2025.site;
    root /home/votingonline2025.site/public_html;
    # ... SSL and security config
}

# Admin Panel - Subdomain
server {
    listen 443 ssl http2;
    server_name admin.votingonline2025.site;
    root /home/votingonline2025.site/admin;
    # ... SSL and security config
}

# Backend API - Subdomain
server {
    listen 443 ssl http2;
    server_name api.votingonline2025.site;
    location / {
        proxy_pass http://localhost:3000;
        # ... proxy config
    }
}
```

---

## ğŸ“ **NEXT STEPS:**

### **Immediate Actions:**
1. âœ… **Configuration Updated**: All configs now point to unified domain
2. ğŸ”„ **Ready for VPS**: Deployment script prepared
3. ğŸ“‹ **DNS Setup**: Configure DNS records when ready
4. ğŸš€ **Deploy**: Run VPS deployment script

### **Post-Deployment:**
1. **Test All Features**: Admin â†’ User communication
2. **Monitor Logs**: Check for any domain-related issues
3. **Performance Check**: Verify no CORS delays
4. **Security Audit**: Confirm all security headers

---

## ğŸŠ **UNIFIED DOMAIN BENEFITS:**

### **ğŸ”’ Security:**
- Single SSL certificate covers all subdomains
- No cross-origin vulnerabilities
- Consistent security headers

### **âš¡ Performance:**
- No CORS preflight requests
- Faster API calls
- Better caching strategies

### **ğŸ¯ Management:**
- Single domain to manage
- Unified analytics
- Simpler deployment process

### **ğŸ‘¥ User Experience:**
- Professional, consistent URLs
- Better brand recognition
- Seamless navigation between admin/user

---

**ğŸŒŸ VOTINGONLINE2025.SITE - UNIFIED DOMAIN ARCHITECTURE READY!**
